"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");exports.default=r=>{const[t,n]=e.useState((null==r?void 0:r.defaultValue)||{}),[s,a]=e.useState({}),[l,u]=e.useState(!1),o=((r,t)=>{const n=e.useRef(null);return e.useEffect(()=>{const e={};r?n.current&&n.current.elements&&Array.from(n.current.elements).forEach(e=>{n.current&&n.current[e.name]&&(n.current[e.name].value=r[e.name])}):(n.current&&n.current.elements&&Array.from(n.current.elements).forEach(t=>{switch(t.nodeName){case"INPUT":{const n=t;null!=r&&r[null==n?void 0:n.name]||(e[null==n?void 0:n.name]=void 0);break}case"SELECT":{const n=t;null!=r&&r[null==n?void 0:n.name]||(e[null==n?void 0:n.name]=void 0);break}}}),t(r=>({...r,...e})))},[]),n})(null==r?void 0:r.defaultValue,n),c=(e,t)=>{return(n=e,s=null==r?void 0:r.validations,new Promise((e,r)=>{let t={};s?(Object.keys(s).forEach(e=>{const r=e,a=s[r];if(a)if(null!=a&&a.required&&!n[r])Object.assign(t,{[r]:(null==a?void 0:a.message)||""});else if(null!=a&&a.validate){const e=a.validate(n[r]);e.requirement||Object.assign(t,{[r]:e.message})}else t[r]&&delete t[r]}),Object.keys(t).length>0?r({status:!1,errors:t}):e({status:!0,errors:t})):e({status:!0,errors:t})})).then(e=>{a(e.errors),t&&t()}).catch(e=>{a(e.errors)});var n,s};return{ref:o,errors:s,handleChange:e=>{e.persist();const{name:r,value:s}=e.target,a={...t,[r]:s};l&&c(a),n(a)},handleSubmit:e=>r=>{r.preventDefault(),u(!0),c(t,()=>{e(t)})}}};
//# sourceMappingURL=simple-react-form-hook.cjs.production.min.js.map
